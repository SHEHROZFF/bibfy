(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{349:function(t,e,n){"use strict";var r=n(16),o=n(13),c=(n(26),n(47),n(38),n(65),n(53),n(45),n(46),n(35),n(8),n(29),n(67),n(66),n(68),n(0)),l=n(387),h=n.n(l);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=new c.a({data:function(){return{type:"book",manualCite:!1,sources:[],currentSource:{authors:[]},currentMessageOpen:!1,currentMessage:{type:"none",text:""},citationTypes:[{label:"Book",type:"book"},{label:"Website",type:"webpage"},{label:"Journal",type:"article-journal"},{label:"Article",type:"article"},{label:"Podcast",type:"song"},{label:"Personal Communication",type:"personal_communication"},{label:"Speech",type:"speech"},{label:"Broadcast",type:"broadcast"},{label:"Report",type:"report"}],fields:[],currentCitation:"",citationList:[],showCitationList:[],citationTimeout:null,citationLoading:!1,citationLoadingTimeout:null,citations:[],currentSearch:"",currentCitationFile:"",currentStyle:0}},watch:{currentCitationFile:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.currentSource.title){e.next=3;break}return e.next=3,t.getNewCitation();case 3:case"end":return e.stop()}}),e)})))()},type:function(){"book"!==this.type&&"webpage"!==this.type&&(this.currentMessage={type:"warning",text:"This citation type is in beta. Use with caution."})},currentMessage:function(){"none"!==this.currentMessage.type?this.currentMessageOpen=!0:this.currentMessageOpen=!1}},methods:{fetchFields:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="auto"!==t.type?t.type:"book",e.next=3,fetch("".concat("https://api.bibify.org/api","/fields/").concat(n));case 3:if(!(r=e.sent).ok){e.next=10;break}return e.next=7,r.json();case 7:t.fields=e.sent,e.next=12;break;case 10:console.error("Field fetch failed!"),v.currentMessage={type:"error",text:"Error: could not fetch citation fields. Backend is probably down; try later."};case 12:t.fields=t.fields.map((function(t){return"issued"===t.field?(t.label="Publish Date",t.field="date"):"publisher-place"===t.field&&(t.label="Publisher Location"),t}));case 13:case"end":return e.stop()}}),e)})))()},getNewCitation:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var source,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return source=d(d({},t.currentSource),{},{style:t.currentCitationFile||"modern-language-association.csl",type:"auto"!==t.type?t.type:"book"}),t.citationLoading=!1,t.citationLoadingTimeout=setTimeout((function(){t.citationLoading=!0}),1e3),console.log(source),e.next=6,fetch("".concat("https://api.bibify.org/api","/cite?").concat(h.a.stringify(source,{format:"RFC3986"})));case 6:if(!(n=e.sent).ok){e.next=14;break}return e.next=10,n.json();case 10:r=e.sent,t.currentCitation=r[0],e.next=16;break;case 14:console.error("cite failed",n),v.currentMessage={type:"error",text:"Error: could not fetch citation. Backend is probably down; try later."};case 16:clearTimeout(t.citationLoadingTimeout),t.citationLoading=!1;case 18:case"end":return e.stop()}}),e)})))()}},computed:{infoFields:function(){var t="auto"!==this.type?this.type:"book";return this.fields.filter((function(e){switch(e.field){case"title":return!0;case"edition":case"volume":return"book"===t;case"URL":return"webpage"===t;default:return!1}}))},publisherFields:function(){return this.fields.filter((function(t){switch(t.field){case"publisher":case"publisher-place":case"date":return!0;default:return!1}}))},currentMessageType:function(){return"none"===this.currentMessage.type?"success":this.currentMessage.type},otherFields:function(){var t=this;return this.fields.filter((function(e){return!(t.publisherFields.includes(e)||t.infoFields.includes(e))}))}}});window.__state,e.a=v},364:function(t,e,n){"use strict";n(26),n(38),n(45),n(46),n(35),n(8),n(29);var r=n(16),o=(n(47),n(23),n(54),n(169),n(440),n(0)),c=n(383),l=n(17);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=o.a.extend({name:"routable",directives:{Ripple:c.a},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactPath:Boolean,exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:function(){return{isActive:!1,proxyClass:""}},computed:{classes:function(){var t={};return this.to||(this.activeClass&&(t[this.activeClass]=this.isActive),this.proxyClass&&(t[this.proxyClass]=this.isActive)),t},computedRipple:function(){var t;return null!==(t=this.ripple)&&void 0!==t?t:!this.disabled&&this.isClickable},isClickable:function(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink:function(){return this.to||this.href||this.link},styles:function(){return{}}},watch:{$route:"onRouteChange"},mounted:function(){this.onRouteChange()},methods:{generateRouteLink:function(){var t,e=this.exact,data=Object(r.a)(Object(r.a)({attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}]},this.to?"nativeOn":"on",f(f({},this.$listeners),"click"in this?{click:this.click}:void 0)),"ref","link");if(void 0===this.exact&&(e="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){var n=this.activeClass,o=this.exactActiveClass||n;this.proxyClass&&(n="".concat(n," ").concat(this.proxyClass).trim(),o="".concat(o," ").concat(this.proxyClass).trim()),t=this.nuxt?"nuxt-link":"router-link",Object.assign(data.props,{to:this.to,exact:e,exactPath:this.exactPath,activeClass:n,exactActiveClass:o,append:this.append,replace:this.replace})}else"a"===(t=(this.href?"a":this.tag)||"div")&&this.href&&(data.attrs.href=this.href);return this.target&&(data.attrs.target=this.target),{tag:t,data:data}},onRouteChange:function(){var t=this;if(this.to&&this.$refs.link&&this.$route){var e="".concat(this.activeClass||""," ").concat(this.proxyClass||"").trim(),n="".concat(this.exactActiveClass||""," ").concat(this.proxyClass||"").trim()||e,path="_vnode.data.class."+(this.exact?n:e);this.$nextTick((function(){!Object(l.l)(t.$refs.link,path)===t.isActive&&t.toggle()}))}},toggle:function(){this.isActive=!this.isActive}}})},365:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(16),o=n(356);function c(t,e,n){return Object(o.a)(t,e,n).extend({name:"groupable",props:{activeClass:{type:String,default:function(){if(this[t])return this[t].activeClass}},disabled:Boolean},data:function(){return{isActive:!1}},computed:{groupClasses:function(){return this.activeClass?Object(r.a)({},this.activeClass,this.isActive):{}}},created:function(){this[t]&&this[t].register(this)},beforeDestroy:function(){this[t]&&this[t].unregister(this)},methods:{toggle:function(t){this.disabled&&t?t.preventDefault():this.$emit("change")}}})}c("itemGroup")},371:function(t,e,n){"use strict";n(26),n(38),n(45),n(46),n(35),n(8),n(29);var r=n(16),o=(n(416),n(374)),c=n(344),l=n(393),h=n(394),f=n(382),d=n(168),v=n(166);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=Object(v.a)(o.a,c.a,l.a,h.a,f.a,d.a).extend({name:"v-sheet",props:{outlined:Boolean,shaped:Boolean,tag:{type:String,default:"div"}},computed:{classes:function(){return m(m(m({"v-sheet":!0,"v-sheet--outlined":this.outlined,"v-sheet--shaped":this.shaped},this.themeClasses),this.elevationClasses),this.roundedClasses)},styles:function(){return this.measurableStyles}},render:function(t){var data={class:this.classes,style:this.styles,on:this.listeners$};return t(this.tag,this.setBackgroundColor(this.color,data),this.$slots.default)}})},381:function(t,e,n){"use strict";var r=n(371);e.a=r.a},382:function(t,e,n){"use strict";var r=n(16),o=(n(26),n(59),n(69),n(58),n(111),n(52),n(27),n(8),n(23),n(43),n(42),n(44),n(0));function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,a){if(t){if("string"==typeof t)return l(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,a):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,c=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function l(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,n=Array(a);e<a;e++)n[e]=t[e];return n}e.a=o.a.extend({name:"roundable",props:{rounded:[Boolean,String],tile:Boolean},computed:{roundedClasses:function(){var t=[],e="string"==typeof this.rounded?String(this.rounded):!0===this.rounded;if(this.tile)t.push("rounded-0");else if("string"==typeof e){var n,o=c(e.split(" "));try{for(o.s();!(n=o.n()).done;){var l=n.value;t.push("rounded-".concat(l))}}catch(t){o.e(t)}finally{o.f()}}else e&&t.push("rounded");return t.length>0?Object(r.a)({},t.join(" "),!0):{}}}})},388:function(t,e){},393:function(t,e,n){"use strict";var r=n(16),o=(n(167),n(0));e.a=o.a.extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation:function(){return this.elevation},elevationClasses:function(){var t=this.computedElevation;return null==t||isNaN(parseInt(t))?{}:Object(r.a)({},"elevation-".concat(this.elevation),!0)}}})},394:function(t,e,n){"use strict";n(167);var r=n(17),o=n(0);e.a=o.a.extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles:function(){var t={},e=Object(r.g)(this.height),n=Object(r.g)(this.minHeight),o=Object(r.g)(this.minWidth),c=Object(r.g)(this.maxHeight),l=Object(r.g)(this.maxWidth),h=Object(r.g)(this.width);return e&&(t.height=e),n&&(t.minHeight=n),o&&(t.minWidth=o),c&&(t.maxHeight=c),l&&(t.maxWidth=l),h&&(t.width=h),t}}})},416:function(t,e,n){t.exports={}},424:function(t,e,n){t.exports={}},440:function(t,e,n){"use strict";var r=n(2),o=n(243);r({target:"String",proto:!0,forced:n(244)("link")},{link:function(t){return o(this,"a","href",t)}})},457:function(t,e,n){"use strict";n(424)},480:function(t,e,n){"use strict";n.r(e);var r=n(363),o=n(346),c=n(411),l=n(455),h=n(456),f=n(454),d=n(527),v=(n(47),n(38),n(8),n(0)),y=n(354),m=n.n(y),O=n(349);v.a.use(m.a);var x={data:function(){return{showOtherResults:[]}},computed:{state:function(){return O.a},thumbnail:function(){return O.a.currentSource.thumbnail?O.a.currentSource.thumbnail:"https://picsum.photos/200/200"},authors:function(){return this.authorsFormatted(O.a.currentSource.authors||[])},otherSources:function(){return O.a.sources.filter((function(source,t){return t!==O.a.currentSource.idx}))}},methods:{authorToText:function(t){return t?"Person"===t.type?"".concat(t.first," ").concat(t.last):t.type?"".concat(t.full):"":""},toggleOtherResults:function(){console.log("yeet"),this.showOtherResults.length>0?this.showOtherResults=[]:this.showOtherResults=[0]},authorsFormatted:function(t){return 0===t.length?"Unknown Author(s)":1===t.length?this.authorToText(t[0]):2===t.length?"".concat(this.authorToText(t[0])," & ").concat(this.authorToText(t[1])):"".concat(this.authorToText(t[0])," et al.")},chooseSource:function(t){O.a.currentSource=O.a.sources[t],O.a.getNewCitation(),this.showOtherResults=[]}}},w=(n(457),n(78)),component=Object(w.a)(x,(function(){var t=this,e=t._self._c;return t.state.currentSource.title?e(r.a,{staticClass:"my-5 pb-1 pt-3"},[e(d.a,{staticClass:"mx-3 px-2 py-2 source-row pb-7 flex-nowrap"},[e("div",{staticClass:"source-thumbnail"},[e("img",{attrs:{src:t.thumbnail}})]),t._v(" "),e("div",[e(o.d,[t._v("\n                "+t._s(t.state.currentSource.title)+"\n            ")]),t._v(" "),e(o.b,{staticClass:"pb-0"},[t._v("\n                "+t._s(t.authors)+", \n                "+t._s(t.state.currentSource.date||"Unknown Date")+" · \n                "+t._s(t.state.currentSource.publisher||"Unknown Publisher")+"\n            ")]),t._v(" "),t.state.sources.length>1?e(o.c,{staticClass:"pb-0"},[e("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"},on:{click:t.toggleOtherResults}},[t._v("\n                    Show Other Results\n                ")])]):t._e()],1)]),t._v(" "),e(f.a,{attrs:{multiple:""},model:{value:t.showOtherResults,callback:function(e){t.showOtherResults=e},expression:"showOtherResults"}},[e(l.a,{attrs:{accordion:""}},[e(h.a,[e(c.a,{staticClass:"mb-3"}),t._v(" "),t._l(t.otherSources,(function(source){return e(r.a,{key:source.idx,staticClass:"px-2 py-2 source-card",attrs:{elevation:"0"},on:{click:function(e){return t.chooseSource(source.idx)}}},[e("h4",{staticClass:"font-weight-regular"},[t._v("\n                        "+t._s(source.title)+"\n                    ")]),t._v(" "),e("p",{staticClass:"text-body-2 mb-0 grey--text text--darken-2"},[t._v("\n                        "+t._s(t.authorsFormatted(source.authors))+", \n                        "+t._s(source.date||"Unknown Date")+" · \n                        "+t._s(source.publisher||"Unknown Publisher")+"\n                    ")])])}))],2)],1)],1)],1):t._e()}),[],!1,null,"732cadfb",null);e.default=component.exports}}]);