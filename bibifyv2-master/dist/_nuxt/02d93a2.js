(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{349:function(e,t,n){"use strict";var r=n(16),o=n(13),c=(n(26),n(47),n(38),n(65),n(53),n(45),n(46),n(35),n(8),n(29),n(67),n(66),n(68),n(0)),l=n(387),f=n.n(l);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=new c.a({data:function(){return{type:"book",manualCite:!1,sources:[],currentSource:{authors:[]},currentMessageOpen:!1,currentMessage:{type:"none",text:""},citationTypes:[{label:"Book",type:"book"},{label:"Website",type:"webpage"},{label:"Journal",type:"article-journal"},{label:"Article",type:"article"},{label:"Podcast",type:"song"},{label:"Personal Communication",type:"personal_communication"},{label:"Speech",type:"speech"},{label:"Broadcast",type:"broadcast"},{label:"Report",type:"report"}],fields:[],currentCitation:"",citationList:[],showCitationList:[],citationTimeout:null,citationLoading:!1,citationLoadingTimeout:null,citations:[],currentSearch:"",currentCitationFile:"",currentStyle:0}},watch:{currentCitationFile:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.currentSource.title){t.next=3;break}return t.next=3,e.getNewCitation();case 3:case"end":return t.stop()}}),t)})))()},type:function(){"book"!==this.type&&"webpage"!==this.type&&(this.currentMessage={type:"warning",text:"This citation type is in beta. Use with caution."})},currentMessage:function(){"none"!==this.currentMessage.type?this.currentMessageOpen=!0:this.currentMessageOpen=!1}},methods:{fetchFields:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="auto"!==e.type?e.type:"book",t.next=3,fetch("".concat("https://api.bibify.org/api","/fields/").concat(n));case 3:if(!(r=t.sent).ok){t.next=10;break}return t.next=7,r.json();case 7:e.fields=t.sent,t.next=12;break;case 10:console.error("Field fetch failed!"),h.currentMessage={type:"error",text:"Error: could not fetch citation fields. Backend is probably down; try later."};case 12:e.fields=e.fields.map((function(e){return"issued"===e.field?(e.label="Publish Date",e.field="date"):"publisher-place"===e.field&&(e.label="Publisher Location"),e}));case 13:case"end":return t.stop()}}),t)})))()},getNewCitation:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var source,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return source=y(y({},e.currentSource),{},{style:e.currentCitationFile||"modern-language-association.csl",type:"auto"!==e.type?e.type:"book"}),e.citationLoading=!1,e.citationLoadingTimeout=setTimeout((function(){e.citationLoading=!0}),1e3),console.log(source),t.next=6,fetch("".concat("https://api.bibify.org/api","/cite?").concat(f.a.stringify(source,{format:"RFC3986"})));case 6:if(!(n=t.sent).ok){t.next=14;break}return t.next=10,n.json();case 10:r=t.sent,e.currentCitation=r[0],t.next=16;break;case 14:console.error("cite failed",n),h.currentMessage={type:"error",text:"Error: could not fetch citation. Backend is probably down; try later."};case 16:clearTimeout(e.citationLoadingTimeout),e.citationLoading=!1;case 18:case"end":return t.stop()}}),t)})))()}},computed:{infoFields:function(){var e="auto"!==this.type?this.type:"book";return this.fields.filter((function(t){switch(t.field){case"title":return!0;case"edition":case"volume":return"book"===e;case"URL":return"webpage"===e;default:return!1}}))},publisherFields:function(){return this.fields.filter((function(e){switch(e.field){case"publisher":case"publisher-place":case"date":return!0;default:return!1}}))},currentMessageType:function(){return"none"===this.currentMessage.type?"success":this.currentMessage.type},otherFields:function(){var e=this;return this.fields.filter((function(t){return!(e.publisherFields.includes(t)||e.infoFields.includes(t))}))}}});window.__state,t.a=h},354:function(e,t,n){!function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);u=!0);}catch(e){a=!0,i=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var r,i,o,u,a=null,c="number"==typeof t?t:(i=(r=n(String(t).split(/(ms|s)/i),2))[0],u=void 0===(o=r[1])?"ms":o,Number(i)*{ms:1,s:1e3}[u]),l=function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(){a=null,e.apply(t,r)};clearTimeout(a),(a=setTimeout(o,c))||e.apply(this,r)};return l.cancel=function(){clearTimeout(a),a=null},l}function o(e){return e.map((function(e){return e.toLowerCase()}))}function u(e,t){var n,r=e?e["debounce-events"]:[];return r&&r.length>0?Array.isArray(r)?o(r):o(r.split(",")):o((n=t,Array.isArray(n)?n:null==n?[]:[n]))}function a(e){return""===e}function c(e,t){return"Enter"===e&&(!t.lock||t.unlock)}function l(e,t,n){return a(e)&&n.fireonempty&&("Enter"===t||" "===t)}function f(e){var t=n(String(e).split("."),1)[0];return Number(t)>=3?"mounted":"bind"}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.lock,o=void 0!==r&&r,s=n.listenTo,d=void 0===s?"keyup":s,y=n.defaultTime,h=void 0===y?"300ms":y,m=n.fireOnEmpty,p=void 0!==m&&m,b=n.cancelOnEmpty,g=void 0!==b&&b,v=n.trim,w=void 0!==v&&v;return t({},f(e),(function(e,t,n){var r=t.value,f=t.arg,s=void 0===f?h:f,y=t.modifiers,m=Object.assign({lock:o,trim:w,fireonempty:p,cancelonempty:g},y),b=u(n.data.attrs,d),v=i((function(e){r(e.target.value,e)}),s);function k(e){var t=m.trim?e.target.value.trim():e.target.value;a(t)&&m.cancelonempty?v.cancel():c(e.key,m)||l(t,e.key,m)?(v.cancel(),r(e.target.value,e)):v(e)}b.forEach((function(t){e.addEventListener(t,k)}))}))}s();var d={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.directive("debounce",s(e.version,t))}};e.debounce=i,e.default=d,e.getDirective=s,Object.defineProperty(e,"__esModule",{value:!0})}(t)},379:function(e,t,n){e.exports={}},388:function(e,t){},429:function(e,t,n){"use strict";n(379)},436:function(e,t,n){"use strict";n.r(t);var r=n(443),o=n(441),c=n(528),l=(n(23),n(171),n(13)),f=(n(68),n(47),n(0)),d=n(354),y=n.n(d),h=n(349);f.a.use(y.a);var m={data:function(){return{search:"",searchHint:"Start typing to search 9000+ styles...",sourceLoading:!1,sourceLoadingTimeout:null}},computed:{state:function(){return h.a}},methods:{typingHandle:function(){this.searchHint="Waiting for you to stop typing...",this.sourceLoading=!1},handleURLKey:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=encodeURIComponent(e.search),t.next=3,e.$axios.$get("".concat("https://api.bibify.org/api","/styles/search?q=").concat(n,"&limit=20"));case 3:data=t.sent,e.$emit("search",data),e.searchHint="";case 6:case"end":return t.stop()}}),t)})))()}}},v=(n(429),n(78)),component=Object(v.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%","justify-content":"center"}},[t(c.a,{directives:[{name:"debounce",rawName:"v-debounce:600ms",value:e.handleURLKey,expression:"handleURLKey",arg:"600ms"}],staticClass:"search-bar",attrs:{label:"Search citation styles",hint:e.searchHint,"hide-details":"auto",autocomplete:"off",spellcheck:"false",outlined:"",dense:""},on:{input:e.typingHandle},scopedSlots:e._u([{key:"append",fn:function(){return[e.sourceLoading?t(o.a,{staticStyle:{width:"24px",height:"24px"},attrs:{indeterminate:"",color:"primary"}}):t(r.a,[e._v("\n                mdi-magnify\n            ")])]},proxy:!0}]),model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)}),[],!1,null,null,null);t.default=component.exports}}]);